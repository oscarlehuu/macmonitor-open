<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MacMonitor - Redesign Mockup</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

  :root {
    --bg-deep: #0a0c10;
    --bg-panel: #111318;
    --bg-card: #171a21;
    --bg-card-hover: #1c1f28;
    --bg-elevated: #1e2230;
    --border-subtle: rgba(255,255,255,0.06);
    --border-medium: rgba(255,255,255,0.10);
    --border-active: rgba(59,130,246,0.4);
    --text-primary: #e8eaed;
    --text-secondary: #8b8fa3;
    --text-muted: #5c6070;
    --blue: #3b82f6;
    --blue-glow: rgba(59,130,246,0.15);
    --blue-dim: rgba(59,130,246,0.08);
    --green: #34d399;
    --green-dim: rgba(52,211,153,0.12);
    --yellow: #fbbf24;
    --yellow-dim: rgba(251,191,36,0.12);
    --orange: #f97316;
    --orange-dim: rgba(249,115,22,0.12);
    --red: #ef4444;
    --red-dim: rgba(239,68,68,0.12);
    --mint: #2dd4bf;
    --mint-dim: rgba(45,212,191,0.12);
    --purple: #a78bfa;
    --purple-dim: rgba(167,139,250,0.12);
    --sidebar-w: 52px;
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #1a1a2e;
    color: var(--text-primary);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 40px 20px;
    -webkit-font-smoothing: antialiased;
  }

  .page-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 32px;
  }

  .page-title {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-secondary);
    letter-spacing: 0.5px;
    text-transform: uppercase;
  }

  /* Menu bar preview */
  .menubar-preview {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 6px 16px;
    background: rgba(30,34,48,0.9);
    border-radius: 8px;
    border: 1px solid var(--border-subtle);
    backdrop-filter: blur(20px);
  }
  .menubar-icon {
    display: flex;
    align-items: center;
    gap: 5px;
    cursor: pointer;
    padding: 3px 6px;
    border-radius: 4px;
    transition: background 0.15s;
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
  }
  .menubar-icon:hover { background: rgba(255,255,255,0.06); }
  .menubar-icon svg { width: 14px; height: 14px; }
  .menubar-icon.active { color: var(--green); }
  .menubar-label { font-family: 'JetBrains Mono', monospace; font-size: 10px; }

  /* Popover container */
  .popover {
    width: 480px;
    height: 560px;
    background: var(--bg-deep);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-subtle);
    overflow: hidden;
    display: flex;
    box-shadow:
      0 24px 80px rgba(0,0,0,0.6),
      0 0 1px rgba(255,255,255,0.1),
      inset 0 1px 0 rgba(255,255,255,0.04);
    position: relative;
  }

  /* Sidebar */
  .sidebar {
    width: var(--sidebar-w);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 12px 0;
    background: var(--bg-panel);
    border-right: 1px solid var(--border-subtle);
    gap: 4px;
    flex-shrink: 0;
  }
  .sidebar-spacer { flex: 1; }

  .nav-btn {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    border: 1px solid transparent;
    background: transparent;
    position: relative;
  }
  .nav-btn svg { width: 16px; height: 16px; color: var(--text-muted); transition: color 0.2s; }
  .nav-btn:hover { background: rgba(255,255,255,0.04); }
  .nav-btn:hover svg { color: var(--text-secondary); }
  .nav-btn.active {
    background: var(--blue-dim);
    border-color: var(--border-active);
  }
  .nav-btn.active svg { color: var(--blue); }
  .nav-btn .tooltip {
    position: absolute;
    left: 46px;
    background: var(--bg-elevated);
    color: var(--text-primary);
    font-size: 11px;
    font-weight: 500;
    padding: 4px 8px;
    border-radius: 6px;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.15s;
    border: 1px solid var(--border-medium);
    z-index: 10;
  }
  .nav-btn:hover .tooltip { opacity: 1; }

  /* Content */
  .content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .content-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 16px 10px;
    border-bottom: 1px solid var(--border-subtle);
  }
  .content-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--text-primary);
  }
  .stale-badge {
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 10px;
    font-weight: 500;
    color: var(--orange);
    padding: 2px 8px;
    background: var(--orange-dim);
    border-radius: 20px;
  }

  .content-body {
    flex: 1;
    overflow-y: auto;
    padding: 12px 16px;
  }
  .content-body::-webkit-scrollbar { width: 4px; }
  .content-body::-webkit-scrollbar-track { background: transparent; }
  .content-body::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 2px; }

  .content-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 16px;
    border-top: 1px solid var(--border-subtle);
    background: var(--bg-panel);
  }
  .footer-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 6px;
    transition: all 0.15s;
    font-family: inherit;
    display: flex;
    align-items: center;
    gap: 4px;
  }
  .footer-btn:hover { color: var(--text-secondary); background: rgba(255,255,255,0.04); }
  .footer-btn svg { width: 12px; height: 12px; }

  /* Screen visibility */
  .screen { display: none; flex-direction: column; gap: 12px; }
  .screen.active { display: flex; }

  /* Cards */
  .card {
    background: var(--bg-card);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-subtle);
    padding: 14px;
    transition: border-color 0.2s, background 0.2s;
  }
  .card:hover { border-color: var(--border-medium); }
  .card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
  }
  .card-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    font-weight: 600;
  }
  .card-label svg { width: 16px; height: 16px; }

  /* Thermal card */
  .thermal-card { border-color: rgba(52,211,153,0.2); }
  .thermal-card.nominal { border-color: rgba(52,211,153,0.25); }
  .thermal-card.fair { border-color: rgba(251,191,36,0.25); }
  .thermal-card.serious { border-color: rgba(249,115,22,0.25); }
  .thermal-card.critical { border-color: rgba(239,68,68,0.25); }

  .thermal-status {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
  }
  .thermal-indicator {
    width: 40px;
    height: 40px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .thermal-indicator svg { width: 20px; height: 20px; }
  .thermal-indicator.nominal { background: var(--green-dim); color: var(--green); }
  .thermal-indicator.fair { background: var(--yellow-dim); color: var(--yellow); }
  .thermal-indicator.serious { background: var(--orange-dim); color: var(--orange); }
  .thermal-indicator.critical { background: var(--red-dim); color: var(--red); }

  .thermal-info h3 {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 2px;
  }
  .thermal-info p {
    font-size: 11px;
    color: var(--text-secondary);
    line-height: 1.4;
  }
  .thermal-info .timestamp {
    font-size: 10px;
    color: var(--text-muted);
    margin-top: 3px;
  }

  /* Gauge */
  .gauge-row {
    display: flex;
    gap: 10px;
  }
  .gauge-card {
    flex: 1;
    background: var(--bg-card);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-subtle);
    padding: 14px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
  }
  .gauge-card:hover { border-color: var(--border-medium); background: var(--bg-card-hover); }

  .gauge-ring {
    width: 72px;
    height: 72px;
    margin: 0 auto 10px;
    position: relative;
  }
  .gauge-ring svg { width: 72px; height: 72px; transform: rotate(-90deg); }
  .gauge-ring .bg { fill: none; stroke: rgba(255,255,255,0.06); stroke-width: 5; }
  .gauge-ring .fill { fill: none; stroke-width: 5; stroke-linecap: round; transition: stroke-dashoffset 0.6s ease; }
  .gauge-value {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'JetBrains Mono', monospace;
    font-size: 16px;
    font-weight: 600;
  }
  .gauge-label {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 2px;
  }
  .gauge-sub {
    font-size: 10px;
    color: var(--text-muted);
    font-family: 'JetBrains Mono', monospace;
  }

  /* Metric rows */
  .metric-row {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    background: var(--bg-card);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
    cursor: pointer;
    transition: all 0.2s;
  }
  .metric-row:hover { background: var(--bg-card-hover); border-color: var(--border-medium); }
  .metric-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }
  .metric-info { flex: 1; }
  .metric-info .label { font-size: 12px; font-weight: 600; }
  .metric-info .sub { font-size: 10px; color: var(--text-secondary); margin-top: 1px; }
  .metric-value {
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    font-weight: 600;
  }
  .metric-arrow { color: var(--text-muted); }
  .metric-arrow svg { width: 12px; height: 12px; }

  /* Progress bars */
  .progress-track {
    height: 6px;
    background: rgba(255,255,255,0.06);
    border-radius: 3px;
    overflow: hidden;
    margin-top: 8px;
  }
  .progress-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.6s ease;
  }

  /* RAM screen */
  .ram-summary {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    background: var(--bg-card);
    border-radius: var(--radius-md);
    border: 1px solid rgba(59,130,246,0.2);
  }
  .ram-summary-info { flex: 1; }
  .ram-summary-info .main { font-size: 14px; font-weight: 600; }
  .ram-summary-info .sub { font-size: 10px; color: var(--text-secondary); margin-top: 2px; }
  .pressure-badge {
    font-size: 10px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 20px;
  }
  .pressure-badge.normal { background: var(--green-dim); color: var(--green); }
  .pressure-badge.warning { background: var(--yellow-dim); color: var(--yellow); }
  .pressure-badge.critical { background: var(--red-dim); color: var(--red); }

  /* Scope picker */
  .scope-picker {
    display: flex;
    gap: 2px;
    background: var(--bg-card);
    border-radius: var(--radius-sm);
    padding: 3px;
    border: 1px solid var(--border-subtle);
  }
  .scope-btn {
    flex: 1;
    padding: 5px 10px;
    border: none;
    background: transparent;
    color: var(--text-muted);
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    border-radius: 6px;
    transition: all 0.15s;
    font-family: inherit;
  }
  .scope-btn.active { background: var(--blue-dim); color: var(--blue); }
  .scope-btn:hover:not(.active) { color: var(--text-secondary); }

  /* Process list */
  .process-item {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    padding: 8px 10px;
    background: var(--bg-card);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
    transition: all 0.15s;
    cursor: pointer;
  }
  .process-item:hover { background: var(--bg-card-hover); border-color: var(--border-medium); }
  .process-item.protected { border-color: rgba(249,115,22,0.2); }
  .process-item.selected { border-color: var(--border-active); background: var(--blue-dim); }

  .process-check {
    width: 16px;
    height: 16px;
    border-radius: 4px;
    border: 1.5px solid var(--text-muted);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    margin-top: 1px;
    transition: all 0.15s;
  }
  .process-item.selected .process-check {
    background: var(--blue);
    border-color: var(--blue);
  }
  .process-check svg { width: 10px; height: 10px; color: white; display: none; }
  .process-item.selected .process-check svg { display: block; }
  .process-item.protected .process-check { opacity: 0.3; }

  .process-info { flex: 1; min-width: 0; }
  .process-name-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
  }
  .process-name {
    font-size: 12px;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .process-mem {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    font-weight: 600;
    flex-shrink: 0;
  }
  .process-meta {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-top: 3px;
  }
  .process-pid {
    font-size: 10px;
    color: var(--text-muted);
    font-family: 'JetBrains Mono', monospace;
  }
  .protected-badge {
    font-size: 9px;
    font-weight: 600;
    color: var(--orange);
    padding: 1px 6px;
    background: var(--orange-dim);
    border-radius: 10px;
  }

  .terminate-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 12px;
    background: var(--bg-card);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
  }
  .terminate-info { font-size: 10px; color: var(--text-muted); }
  .terminate-btn {
    padding: 5px 14px;
    border-radius: 6px;
    border: none;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.15s;
  }
  .terminate-btn.enabled {
    background: var(--red);
    color: white;
  }
  .terminate-btn.enabled:hover { background: #dc2626; }
  .terminate-btn.disabled {
    background: rgba(255,255,255,0.04);
    color: var(--text-muted);
    cursor: not-allowed;
  }

  /* Storage screen */
  .storage-card {
    border-color: rgba(45,212,191,0.2);
  }
  .storage-breakdown {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 12px;
  }
  .storage-row {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .storage-color {
    width: 10px;
    height: 10px;
    border-radius: 3px;
    flex-shrink: 0;
  }
  .storage-cat { flex: 1; font-size: 11px; font-weight: 500; }
  .storage-size {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    color: var(--text-secondary);
  }

  /* Settings */
  .settings-section {
    padding: 14px;
    background: var(--bg-card);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-subtle);
  }
  .settings-section + .settings-section { margin-top: 10px; }
  .settings-label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 10px;
  }
  .settings-label svg { width: 16px; height: 16px; }

  .setting-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 0;
  }
  .setting-row + .setting-row { border-top: 1px solid var(--border-subtle); }
  .setting-text { font-size: 12px; font-weight: 500; }
  .setting-sub { font-size: 10px; color: var(--text-muted); margin-top: 2px; }

  /* Toggle switch */
  .toggle {
    width: 36px;
    height: 20px;
    border-radius: 10px;
    background: rgba(255,255,255,0.1);
    cursor: pointer;
    position: relative;
    transition: background 0.2s;
  }
  .toggle.on { background: var(--blue); }
  .toggle::after {
    content: '';
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: white;
    position: absolute;
    top: 2px;
    left: 2px;
    transition: transform 0.2s;
  }
  .toggle.on::after { transform: translateX(16px); }

  /* Select dropdown */
  .select-wrap {
    position: relative;
  }
  .select-styled {
    padding: 5px 28px 5px 10px;
    background: var(--bg-elevated);
    border: 1px solid var(--border-medium);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    font-family: inherit;
    appearance: none;
    -webkit-appearance: none;
  }
  .select-styled:focus { outline: none; border-color: var(--blue); }

  /* Policy card */
  .policy-card {
    padding: 12px;
    background: var(--bg-card);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-subtle);
    transition: all 0.2s;
  }
  .policy-card.enabled { border-color: rgba(59,130,246,0.25); }
  .policy-card:hover { background: var(--bg-card-hover); }
  .policy-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 6px;
  }
  .policy-name { font-size: 12px; font-weight: 600; }
  .policy-bundle { font-size: 10px; color: var(--text-muted); margin-bottom: 6px; }
  .policy-tags {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }
  .tag {
    font-size: 9px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: 10px;
  }
  .tag.blue { background: var(--blue-dim); color: var(--blue); }
  .tag.mint { background: var(--mint-dim); color: var(--mint); }
  .tag.purple { background: var(--purple-dim); color: var(--purple); }
  .policy-actions {
    display: flex;
    gap: 12px;
    margin-top: 8px;
  }
  .policy-action-btn {
    background: none;
    border: none;
    color: var(--text-muted);
    font-size: 10px;
    font-weight: 500;
    cursor: pointer;
    font-family: inherit;
    padding: 2px 0;
    transition: color 0.15s;
  }
  .policy-action-btn:hover { color: var(--text-secondary); }
  .policy-action-btn.delete:hover { color: var(--red); }

  .manage-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 14px;
    background: var(--blue);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.15s;
  }
  .manage-btn:hover { background: #2563eb; }
  .manage-btn svg { width: 12px; height: 12px; }

  /* Back header */
  .back-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
  }
  .back-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    background: none;
    border: none;
    color: var(--text-secondary);
    font-size: 11px;
    font-weight: 500;
    cursor: pointer;
    font-family: inherit;
    padding: 4px 8px;
    border-radius: 6px;
    transition: all 0.15s;
  }
  .back-btn:hover { background: rgba(255,255,255,0.04); color: var(--text-primary); }
  .back-btn svg { width: 12px; height: 12px; }

  .add-policy-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 5px 12px;
    background: var(--blue);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.15s;
  }
  .add-policy-btn:hover { background: #2563eb; }
  .add-policy-btn svg { width: 12px; height: 12px; }

  /* List summary */
  .list-summary {
    font-size: 10px;
    color: var(--text-muted);
    padding: 2px 0;
  }

  /* Empty state */
  .empty-state {
    padding: 24px;
    text-align: center;
  }
  .empty-state svg { width: 32px; height: 32px; color: var(--text-muted); margin-bottom: 10px; }
  .empty-state h4 { font-size: 13px; font-weight: 600; margin-bottom: 4px; }
  .empty-state p { font-size: 11px; color: var(--text-secondary); }

  /* Animations */
  @keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }
  .screen.active { animation: fadeIn 0.2s ease; }

  /* Thermal simulation controls */
  .sim-controls {
    display: flex;
    gap: 6px;
    padding: 8px 12px;
    background: var(--bg-card);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
    flex-wrap: wrap;
  }
  .sim-btn {
    padding: 4px 10px;
    border-radius: 6px;
    border: 1px solid var(--border-subtle);
    background: transparent;
    color: var(--text-secondary);
    font-size: 10px;
    font-weight: 500;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.15s;
  }
  .sim-btn:hover { background: rgba(255,255,255,0.04); }
  .sim-btn.active-sim { border-color: var(--blue); color: var(--blue); background: var(--blue-dim); }
  .sim-label { font-size: 10px; color: var(--text-muted); display: flex; align-items: center; margin-right: 4px; }

  /* Modal overlay */
  .modal-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(4px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 100;
    border-radius: var(--radius-lg);
  }
  .modal-overlay.visible { display: flex; }
  .modal {
    background: var(--bg-panel);
    border: 1px solid var(--border-medium);
    border-radius: var(--radius-md);
    padding: 20px;
    width: 340px;
    max-height: 440px;
    overflow-y: auto;
  }
  .modal h3 { font-size: 15px; font-weight: 600; margin-bottom: 14px; }
  .modal-field { margin-bottom: 12px; }
  .modal-field label {
    display: block;
    font-size: 11px;
    font-weight: 500;
    color: var(--text-secondary);
    margin-bottom: 4px;
  }
  .modal-input {
    width: 100%;
    padding: 7px 10px;
    background: var(--bg-elevated);
    border: 1px solid var(--border-medium);
    border-radius: 6px;
    color: var(--text-primary);
    font-size: 12px;
    font-family: inherit;
  }
  .modal-input:focus { outline: none; border-color: var(--blue); }
  .modal-actions {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
    margin-top: 16px;
  }
  .modal-btn {
    padding: 6px 16px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.15s;
    border: none;
  }
  .modal-btn.cancel { background: rgba(255,255,255,0.06); color: var(--text-secondary); }
  .modal-btn.cancel:hover { background: rgba(255,255,255,0.1); }
  .modal-btn.save { background: var(--blue); color: white; }
  .modal-btn.save:hover { background: #2563eb; }

  /* Alert dialog */
  .alert-dialog {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(4px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 200;
    border-radius: var(--radius-lg);
  }
  .alert-dialog.visible { display: flex; }
  .alert-box {
    background: var(--bg-panel);
    border: 1px solid var(--border-medium);
    border-radius: var(--radius-md);
    padding: 20px;
    width: 300px;
    text-align: center;
  }
  .alert-box h4 { font-size: 14px; font-weight: 600; margin-bottom: 8px; }
  .alert-box p { font-size: 12px; color: var(--text-secondary); margin-bottom: 16px; line-height: 1.5; }
  .alert-actions { display: flex; gap: 8px; justify-content: center; }
  .alert-btn {
    padding: 6px 20px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    font-family: inherit;
    border: none;
    transition: all 0.15s;
  }
  .alert-btn.cancel { background: rgba(255,255,255,0.06); color: var(--text-secondary); }
  .alert-btn.destructive { background: var(--red); color: white; }
  .alert-btn.destructive:hover { background: #dc2626; }
</style>
</head>
<body>

<div class="page-wrapper">
  <div class="page-title">MacMonitor Redesign Mockup - Interactive Prototype</div>

  <!-- Main popover -->
  <div class="popover" id="popover">
    <!-- Sidebar nav -->
    <nav class="sidebar">
      <div class="nav-btn active" data-screen="temperature" onclick="switchScreen('temperature')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/></svg>
        <span class="tooltip">Temperature</span>
      </div>
      <div class="nav-btn" data-screen="ram" onclick="switchScreen('ram')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="6" width="20" height="12" rx="2"/><path d="M6 12h.01M10 12h.01M14 12h.01M18 12h.01M6 18v-2M10 18v-2M14 18v-2M18 18v-2"/></svg>
        <span class="tooltip">RAM</span>
      </div>
      <div class="nav-btn" data-screen="storage" onclick="switchScreen('storage')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>
        <span class="tooltip">Storage</span>
      </div>
      <div class="sidebar-spacer"></div>
      <div class="nav-btn" data-screen="settings" onclick="switchScreen('settings')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        <span class="tooltip">Settings</span>
      </div>
    </nav>

    <!-- Content area -->
    <div class="content">
      <div class="content-header">
        <span class="content-title" id="screenTitle">Temperature</span>
        <div class="stale-badge" id="staleBadge" style="display:none;">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="10" height="10"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          Stale
        </div>
      </div>

      <div class="content-body">

        <!-- TEMPERATURE SCREEN -->
        <div class="screen active" id="screen-temperature">
          <!-- Thermal card -->
          <div class="card thermal-card nominal" id="thermalCard">
            <div class="thermal-status">
              <div class="thermal-indicator nominal" id="thermalIcon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/></svg>
              </div>
              <div class="thermal-info">
                <h3 id="thermalTitle">Nominal</h3>
                <p id="thermalDesc">System thermal pressure is low.</p>
                <p class="timestamp">Updated 2 minutes ago</p>
              </div>
            </div>
          </div>

          <!-- Gauge row -->
          <div class="gauge-row">
            <div class="gauge-card" onclick="switchScreen('ram')">
              <div class="gauge-ring">
                <svg viewBox="0 0 72 72">
                  <circle class="bg" cx="36" cy="36" r="30"/>
                  <circle class="fill" cx="36" cy="36" r="30" stroke="var(--blue)" stroke-dasharray="188.5" stroke-dashoffset="56.5" id="ramGauge"/>
                </svg>
                <span class="gauge-value" style="color:var(--blue)" id="ramPct">70%</span>
              </div>
              <div class="gauge-label">RAM</div>
              <div class="gauge-sub" id="ramUsage">11.2 / 16 GB</div>
            </div>
            <div class="gauge-card" onclick="switchScreen('storage')">
              <div class="gauge-ring">
                <svg viewBox="0 0 72 72">
                  <circle class="bg" cx="36" cy="36" r="30"/>
                  <circle class="fill" cx="36" cy="36" r="30" stroke="var(--mint)" stroke-dasharray="188.5" stroke-dashoffset="94.3" id="storageGauge"/>
                </svg>
                <span class="gauge-value" style="color:var(--mint)" id="storagePct">50%</span>
              </div>
              <div class="gauge-label">Storage</div>
              <div class="gauge-sub" id="storageUsage">250 / 500 GB</div>
            </div>
          </div>

          <!-- Simulation controls -->
          <div class="sim-controls">
            <span class="sim-label">Simulate:</span>
            <button class="sim-btn active-sim" onclick="setThermal('nominal')">Nominal</button>
            <button class="sim-btn" onclick="setThermal('fair')">Fair</button>
            <button class="sim-btn" onclick="setThermal('serious')">Serious</button>
            <button class="sim-btn" onclick="setThermal('critical')">Critical</button>
          </div>
        </div>

        <!-- RAM SCREEN -->
        <div class="screen" id="screen-ram">
          <div class="ram-summary">
            <div class="ram-summary-info">
              <div class="main">RAM 70% &mdash; 11.2 / 16 GB</div>
              <div class="sub">5.8 GB user / 11.2 GB total / 16 GB</div>
            </div>
            <span class="pressure-badge normal">Normal</span>
          </div>

          <div class="scope-picker">
            <button class="scope-btn active" onclick="setScope(this, 'mine')">My Processes</button>
            <button class="scope-btn" onclick="setScope(this, 'all')">All Discoverable</button>
          </div>

          <div class="list-summary" id="listSummary">Top 8 of 142 &bull; Listed 4.2 GB</div>

          <div style="display:flex;flex-direction:column;gap:4px;" id="processList">
            <!-- Processes populated by JS -->
          </div>

          <div class="terminate-bar">
            <span class="terminate-info" id="terminateInfo">0 selected &bull; 0 MB</span>
            <button class="terminate-btn disabled" id="terminateBtn" onclick="showTerminateAlert()">Terminate (0)</button>
          </div>
        </div>

        <!-- STORAGE SCREEN -->
        <div class="screen" id="screen-storage">
          <div class="card storage-card">
            <div class="card-header">
              <span class="card-label" style="color:var(--mint);">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>
                Storage
              </span>
              <span style="font-family:'JetBrains Mono';font-size:13px;font-weight:600;color:var(--mint);">50%</span>
            </div>
            <div style="font-size:14px;font-weight:600;">250 GB / 500 GB</div>
            <div style="font-size:10px;color:var(--text-secondary);margin-top:2px;">250 GB available</div>
            <div class="progress-track">
              <div class="progress-fill" style="width:50%;background:linear-gradient(90deg,var(--mint),#14b8a6);"></div>
            </div>
            <div class="storage-breakdown">
              <div class="storage-row"><div class="storage-color" style="background:var(--blue);"></div><span class="storage-cat">Apps</span><span class="storage-size">45 GB</span></div>
              <div class="storage-row"><div class="storage-color" style="background:var(--purple);"></div><span class="storage-cat">Documents</span><span class="storage-size">62 GB</span></div>
              <div class="storage-row"><div class="storage-color" style="background:var(--orange);"></div><span class="storage-cat">Developer</span><span class="storage-size">85 GB</span></div>
              <div class="storage-row"><div class="storage-color" style="background:var(--mint);"></div><span class="storage-cat">Media</span><span class="storage-size">38 GB</span></div>
              <div class="storage-row"><div class="storage-color" style="background:var(--text-muted);"></div><span class="storage-cat">System &amp; Other</span><span class="storage-size">20 GB</span></div>
            </div>
          </div>

          <!-- Stacked bar visual -->
          <div class="card">
            <div style="font-size:12px;font-weight:600;margin-bottom:8px;">Usage Breakdown</div>
            <div style="display:flex;height:14px;border-radius:7px;overflow:hidden;gap:1px;">
              <div style="flex:45;background:var(--blue);"></div>
              <div style="flex:62;background:var(--purple);"></div>
              <div style="flex:85;background:var(--orange);"></div>
              <div style="flex:38;background:var(--mint);"></div>
              <div style="flex:20;background:var(--text-muted);"></div>
              <div style="flex:250;background:rgba(255,255,255,0.04);"></div>
            </div>
            <div style="display:flex;justify-content:space-between;margin-top:6px;">
              <span style="font-size:10px;color:var(--text-muted);">0 GB</span>
              <span style="font-size:10px;color:var(--text-muted);">500 GB</span>
            </div>
          </div>
        </div>

        <!-- SETTINGS SCREEN -->
        <div class="screen" id="screen-settings">
          <!-- RAM Policy -->
          <div class="settings-section" style="border-color:rgba(59,130,246,0.2);">
            <div class="settings-label" style="color:var(--blue);">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
              RAM Policy
            </div>
            <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;">
              <span style="font-size:11px;color:var(--text-secondary);">2 active of 3 policies</span>
              <span style="font-size:10px;color:var(--text-muted);">Last alert: 5 min ago</span>
            </div>
            <button class="manage-btn" onclick="switchScreen('policies')">
              Manage Policies
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
            </button>
          </div>

          <!-- Refresh interval -->
          <div class="settings-section">
            <div class="settings-label">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
              Refresh
            </div>
            <div class="setting-row">
              <div>
                <div class="setting-text">Update interval</div>
                <div class="setting-sub">How often metrics are collected</div>
              </div>
              <select class="select-styled">
                <option>1 minute</option>
                <option selected>3 minutes</option>
                <option>5 minutes</option>
                <option>10 minutes</option>
              </select>
            </div>
          </div>

          <!-- Launch -->
          <div class="settings-section">
            <div class="settings-label">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/></svg>
              Startup
            </div>
            <div class="setting-row">
              <div class="setting-text">Launch at login</div>
              <div class="toggle on" onclick="this.classList.toggle('on')"></div>
            </div>
          </div>

          <!-- Thermal info -->
          <div class="settings-section" style="border-color:rgba(249,115,22,0.15);">
            <div class="settings-label" style="color:var(--orange);">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/></svg>
              Thermal
            </div>
            <div style="font-size:11px;color:var(--text-secondary);line-height:1.5;">Uses official Apple API: Nominal / Fair / Serious / Critical states.</div>
          </div>
        </div>

        <!-- POLICIES SCREEN -->
        <div class="screen" id="screen-policies">
          <div class="back-header">
            <button class="back-btn" onclick="switchScreen('settings')">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
              Back
            </button>
            <span style="flex:1;"></span>
            <button class="add-policy-btn" onclick="showModal()">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
              Add Policy
            </button>
          </div>

          <div style="display:flex;flex-direction:column;gap:8px;">
            <div class="policy-card enabled">
              <div class="policy-header">
                <span class="policy-name">Cursor</span>
                <div class="toggle on" onclick="this.classList.toggle('on');this.closest('.policy-card').classList.toggle('enabled')"></div>
              </div>
              <div class="policy-bundle">com.todesktop.cursor</div>
              <div class="policy-tags">
                <span class="tag blue">&gt; 6 GB</span>
                <span class="tag mint">Instant</span>
                <span class="tag purple">Cooldown 60s</span>
              </div>
              <div class="policy-actions">
                <button class="policy-action-btn" onclick="showModal()">Edit</button>
                <button class="policy-action-btn delete">Delete</button>
              </div>
            </div>

            <div class="policy-card enabled">
              <div class="policy-header">
                <span class="policy-name">Docker Desktop</span>
                <div class="toggle on" onclick="this.classList.toggle('on');this.closest('.policy-card').classList.toggle('enabled')"></div>
              </div>
              <div class="policy-bundle">com.docker.docker</div>
              <div class="policy-tags">
                <span class="tag blue">&gt; 8 GB</span>
                <span class="tag mint">Sustained 30s</span>
                <span class="tag purple">Cooldown 120s</span>
              </div>
              <div class="policy-actions">
                <button class="policy-action-btn" onclick="showModal()">Edit</button>
                <button class="policy-action-btn delete">Delete</button>
              </div>
            </div>

            <div class="policy-card">
              <div class="policy-header">
                <span class="policy-name" style="color:var(--text-muted);">Chrome</span>
                <div class="toggle" onclick="this.classList.toggle('on');this.closest('.policy-card').classList.toggle('enabled')"></div>
              </div>
              <div class="policy-bundle">com.google.Chrome</div>
              <div class="policy-tags">
                <span class="tag blue">&gt; 10%</span>
                <span class="tag mint">Instant</span>
              </div>
              <div class="policy-actions">
                <button class="policy-action-btn" onclick="showModal()">Edit</button>
                <button class="policy-action-btn delete">Delete</button>
              </div>
            </div>
          </div>

          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px;">
            <span style="font-size:10px;color:var(--text-muted);">2 active of 3</span>
          </div>
        </div>
      </div>

      <div class="content-footer">
        <button class="footer-btn" onclick="simulateRefresh()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
          Refresh
        </button>
        <button class="footer-btn" style="color:var(--red);">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18.36 6.64A9 9 0 0 1 20.77 15m-2.12 3.36A9 9 0 0 1 3.23 9"/><line x1="1" y1="1" x2="23" y2="23"/></svg>
          Quit
        </button>
      </div>
    </div>

    <!-- Add/Edit Policy Modal -->
    <div class="modal-overlay" id="policyModal">
      <div class="modal">
        <h3>Add RAM Policy</h3>
        <div class="modal-field">
          <label>App</label>
          <select class="modal-input" style="padding:7px 10px;">
            <option>Cursor</option>
            <option>Docker Desktop</option>
            <option>Google Chrome</option>
            <option>Slack</option>
            <option>VS Code</option>
          </select>
        </div>
        <div class="modal-field">
          <label>Bundle ID</label>
          <input class="modal-input" value="com.todesktop.cursor" readonly style="color:var(--text-muted);">
        </div>
        <div class="modal-field">
          <label>Limit Mode</label>
          <div class="scope-picker" style="margin-top:4px;">
            <button class="scope-btn active" onclick="setLimitMode(this,'gb')">GB</button>
            <button class="scope-btn" onclick="setLimitMode(this,'pct')">Percent</button>
          </div>
        </div>
        <div class="modal-field">
          <label>Limit Value</label>
          <input class="modal-input" type="number" value="6" placeholder="6">
        </div>
        <div class="modal-field">
          <label>Trigger</label>
          <div class="scope-picker" style="margin-top:4px;">
            <button class="scope-btn active">Instant</button>
            <button class="scope-btn">Sustained</button>
          </div>
        </div>
        <div class="modal-field">
          <label>Alert Cooldown</label>
          <input class="modal-input" type="number" value="60" placeholder="60s">
        </div>
        <div class="modal-field" style="display:flex;align-items:center;justify-content:space-between;">
          <label style="margin:0;">Enabled</label>
          <div class="toggle on" onclick="this.classList.toggle('on')"></div>
        </div>
        <div class="modal-actions">
          <button class="modal-btn cancel" onclick="hideModal()">Cancel</button>
          <button class="modal-btn save" onclick="hideModal()">Save</button>
        </div>
      </div>
    </div>

    <!-- Terminate Alert -->
    <div class="alert-dialog" id="terminateAlert">
      <div class="alert-box">
        <h4>Terminate selected processes?</h4>
        <p>MacMonitor will proceed with allowed processes only. Protected items are skipped.</p>
        <div class="alert-actions">
          <button class="alert-btn cancel" onclick="hideTerminateAlert()">Cancel</button>
          <button class="alert-btn destructive" onclick="hideTerminateAlert()">Terminate</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Process data
  const processes = [
    { name: 'Cursor', pid: 1234, user: 'oscar', mem: '2.8 GB', bytes: 2800, pss: '2.1 GB', protected: false, selected: false },
    { name: 'Docker Desktop', pid: 2345, user: 'oscar', mem: '2.1 GB', bytes: 2100, pss: '1.8 GB', protected: false, selected: false },
    { name: 'Google Chrome', pid: 3456, user: 'oscar', mem: '1.4 GB', bytes: 1400, pss: '980 MB', protected: false, selected: false },
    { name: 'WindowServer', pid: 178, user: 'root', mem: '890 MB', bytes: 890, pss: '820 MB', protected: true, reason: 'System' },
    { name: 'kernel_task', pid: 0, user: 'root', mem: '680 MB', bytes: 680, pss: '680 MB', protected: true, reason: 'Kernel' },
    { name: 'Slack', pid: 4567, user: 'oscar', mem: '520 MB', bytes: 520, pss: '410 MB', protected: false, selected: false },
    { name: 'Finder', pid: 456, user: 'oscar', mem: '340 MB', bytes: 340, pss: '280 MB', protected: true, reason: 'System App' },
    { name: 'Terminal', pid: 5678, user: 'oscar', mem: '180 MB', bytes: 180, pss: '120 MB', protected: false, selected: false },
  ];

  function renderProcesses() {
    const container = document.getElementById('processList');
    container.innerHTML = '';
    processes.forEach((p, i) => {
      const div = document.createElement('div');
      div.className = `process-item${p.protected ? ' protected' : ''}${p.selected ? ' selected' : ''}`;
      div.onclick = () => { if (!p.protected) { p.selected = !p.selected; updateSelection(); renderProcesses(); } };
      div.innerHTML = `
        <div class="process-check"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
        <div class="process-info">
          <div class="process-name-row">
            <span class="process-name">${p.name}</span>
            <span class="process-mem">${p.mem}</span>
          </div>
          <div class="process-meta">
            <span class="process-pid">PID ${p.pid} &bull; ${p.user}</span>
            ${p.protected ? `<span class="protected-badge">${p.reason}</span>` : ''}
            <span style="flex:1;"></span>
            <span class="process-pid">${p.pss} PSS</span>
          </div>
        </div>
      `;
      container.appendChild(div);
    });
  }

  function updateSelection() {
    const selected = processes.filter(p => p.selected && !p.protected);
    const count = selected.length;
    const mb = selected.reduce((s, p) => s + p.bytes, 0);
    const display = mb >= 1000 ? (mb / 1000).toFixed(1) + ' GB' : mb + ' MB';
    document.getElementById('terminateInfo').textContent = `${count} selected \u2022 ${display}`;
    const btn = document.getElementById('terminateBtn');
    btn.textContent = `Terminate (${count})`;
    btn.className = count > 0 ? 'terminate-btn enabled' : 'terminate-btn disabled';
  }

  // Screen navigation
  function switchScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

    const screenId = id === 'policies' ? 'policies' : id;
    document.getElementById('screen-' + screenId).classList.add('active');

    const navTarget = id === 'policies' ? 'settings' : id;
    document.querySelector(`.nav-btn[data-screen="${navTarget}"]`)?.classList.add('active');

    const titles = { temperature: 'Temperature', ram: 'RAM', storage: 'Storage', settings: 'Settings', policies: 'Policy Manager' };
    document.getElementById('screenTitle').textContent = titles[id] || id;
  }

  // Thermal simulation
  const thermalData = {
    nominal: { color: 'var(--green)', title: 'Nominal', desc: 'System thermal pressure is low.' },
    fair: { color: 'var(--yellow)', title: 'Fair', desc: 'Thermal pressure is elevated but stable.' },
    serious: { color: 'var(--orange)', title: 'Serious', desc: 'System is under high thermal pressure.' },
    critical: { color: 'var(--red)', title: 'Critical', desc: 'Critical thermal pressure; performance may throttle.' }
  };

  function setThermal(state) {
    const d = thermalData[state];
    const card = document.getElementById('thermalCard');
    card.className = `card thermal-card ${state}`;
    const icon = document.getElementById('thermalIcon');
    icon.className = `thermal-indicator ${state}`;
    document.getElementById('thermalTitle').textContent = d.title;
    document.getElementById('thermalTitle').style.color = d.color;
    document.getElementById('thermalDesc').textContent = d.desc;

    document.querySelectorAll('.sim-btn').forEach(b => b.classList.remove('active-sim'));
    event.target.classList.add('active-sim');
  }

  // Scope picker
  function setScope(btn, mode) {
    btn.parentElement.querySelectorAll('.scope-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    if (mode === 'mine') {
      document.getElementById('listSummary').textContent = 'Top 8 of 142 \u2022 Listed 4.2 GB';
    } else {
      document.getElementById('listSummary').textContent = 'Top 8 of 312 \u2022 Listed 8.9 GB';
    }
  }

  // Limit mode
  function setLimitMode(btn, mode) {
    btn.parentElement.querySelectorAll('.scope-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }

  // Modal
  function showModal() { document.getElementById('policyModal').classList.add('visible'); }
  function hideModal() { document.getElementById('policyModal').classList.remove('visible'); }

  // Terminate alert
  function showTerminateAlert() {
    const selected = processes.filter(p => p.selected && !p.protected);
    if (selected.length > 0) document.getElementById('terminateAlert').classList.add('visible');
  }
  function hideTerminateAlert() { document.getElementById('terminateAlert').classList.remove('visible'); }

  // Refresh simulation
  function simulateRefresh() {
    const btn = event.target.closest('.footer-btn');
    btn.style.opacity = '0.5';
    setTimeout(() => { btn.style.opacity = '1'; }, 400);
  }

  // Init
  renderProcesses();
</script>

</body>
</html>
